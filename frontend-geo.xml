This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
API_DOCUMENTATION.md
components.json
eslint.config.js
index.html
jsconfig.json
package.json
postcss.config.js
public/geolocator-favicon.svg
public/image-logos/ip-address-favicon.png
public/image-logos/ip-address.png
public/vite.svg
README.md
src/App.css
src/App.jsx
src/assets/react.svg
src/components/auth/PrivateRoute.jsx
src/components/geo/GeoDisplay.jsx
src/components/geo/HistoryList.jsx
src/components/geo/IPSearch.jsx
src/components/ui/Alert.jsx
src/components/ui/Button.jsx
src/components/ui/buttonVariants.js
src/components/ui/Card.jsx
src/components/ui/Icon.jsx
src/components/ui/Input.jsx
src/components/ui/LoadingSpinner.jsx
src/components/ui/pagination.jsx
src/context/AuthContext.jsx
src/hooks/useGeoLocation.js
src/hooks/usePagination.js
src/index.css
src/lib/utils.js
src/main.jsx
src/pages/HomePage.jsx
src/pages/LoginPage.jsx
src/services/api.js
src/services/authService.js
src/services/geoService.js
src/utils/sweetAlertConfig.js
tailwind.config.js
vite.config.js
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".gitignore">
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
</file>

<file path="API_DOCUMENTATION.md">
# Laravel Backend API Documentation

## Overview

This Laravel API provides authentication and IP geolocation functionality for the technical assessment challenge.

**Base URL**: `http://localhost:8000`
**Authentication**: Bearer Tokens (Laravel Sanctum)

---

## Authentication

All endpoints except `/api/login` require authentication via Bearer token in the Authorization header:

```
Authorization: Bearer YOUR_TOKEN_HERE
```

---

## Endpoints

### üîê Authentication

#### POST /api/login
Authenticate user and receive access token.

**Request Body:**
```json
{
  "email": "admin@jlabs.com",
  "password": "password123"
}
```

**Response (200):**
```json
{
  "message": "Login successful",
  "access_token": "1|abc123...",
  "token_type": "Bearer",
  "user": {
    "id": 1,
    "name": "Jlabs Candidate",
    "email": "admin@jlabs.com",
    "created_at": "2025-12-10T06:23:54.000000Z",
    "updated_at": "2025-12-10T06:23:54.000000Z"
  }
}
```

**Error (401):**
```json
{
  "message": "Invalid credentials"
}
```

---

#### POST /api/logout
Logout user and invalidate current token.

**Headers:** `Authorization: Bearer YOUR_TOKEN`

**Response (200):**
```json
{
  "message": "Logged out successfully"
}
```

---

#### GET /api/user
Get current authenticated user information.

**Headers:** `Authorization: Bearer YOUR_TOKEN`

**Response (200):**
```json
{
  "id": 1,
  "name": "Jlabs Candidate",
  "email": "admin@jlabs.com",
  "created_at": "2025-12-10T06:23:54.000000Z",
  "updated_at": "2025-12-10T06:23:54.000000Z"
}
```

---

### üåç Geolocation

#### GET /api/geo
Get IP geolocation information from ipinfo.io.

**Headers:** `Authorization: Bearer YOUR_TOKEN`

**Parameters (Optional):**
- `ip` (string): Specific IP address to lookup

**Without IP (returns current user's location):**
```
GET /api/geo
```

**With specific IP:**
```
GET /api/geo?ip=8.8.8.8
```

**Response (200):**
```json
{
  "ip": "8.8.8.8",
  "city": "Mountain View",
  "region": "California",
  "country": "US",
  "loc": "37.4056,-122.0775",
  "org": "AS15169 Google LLC",
  "postal": "94043",
  "timezone": "America/Los_Angeles",
  "readme": "https://ipinfo.io/missingauth"
}
```

**Error (422) - Invalid IP format:**
```json
{
  "message": "Invalid IP address format",
  "errors": {
    "ip": ["The ip field must be a valid IP address."]
  }
}
```

**Error (500) - External API failure:**
```json
{
  "message": "External API error",
  "error": "Connection timeout"
}
```

**Note:** When searching with a specific IP, the search is automatically saved to the user's history.

---

### üìù Search History

#### GET /api/history
Get user's search history (chronological, newest first).

**Headers:** `Authorization: Bearer YOUR_TOKEN`

**Response (200):**
```json
[
  {
    "id": 3,
    "user_id": 1,
    "search_term": "8.8.8.8",
    "geo_data": {
      "ip": "8.8.8.8",
      "city": "Mountain View",
      "region": "California",
      "country": "US",
      "loc": "37.4056,-122.0775",
      "org": "AS15169 Google LLC",
      "postal": "94043",
      "timezone": "America/Los_Angeles"
    },
    "created_at": "2025-12-10T07:15:23.000000Z",
    "updated_at": "2025-12-10T07:15:23.000000Z"
  },
  {
    "id": 2,
    "user_id": 1,
    "search_term": "1.1.1.1",
    "geo_data": {
      "ip": "1.1.1.1",
      "city": "San Francisco",
      "region": "California",
      "country": "US",
      "loc": "37.7621,-122.4393",
      "org": "AS13335 Cloudflare, Inc.",
      "postal": "94107",
      "timezone": "America/Los_Angeles"
    },
    "created_at": "2025-12-10T07:10:15.000000Z",
    "updated_at": "2025-12-10T07:10:15.000000Z"
  }
]
```

---

#### POST /api/history/delete
Delete multiple search history entries.

**Headers:** `Authorization: Bearer YOUR_TOKEN`

**Request Body:**
```json
{
  "ids": [2, 3]
}
```

**Response (200):**
```json
{
  "message": "Deleted successfully"
}
```

**Error (422) - Invalid IDs:**
```json
{
  "message": "The ids field is required.",
  "errors": {
    "ids": ["The ids field is required."]
  }
}
```

---

## Test Credentials

For testing purposes, use these credentials:

- **Email**: `admin@jlabs.com`
- **Password**: `password123`

---

## Usage Examples

### Login and Get Token
```bash
curl -X POST http://localhost:8000/api/login \
  -H "Content-Type: application/json" \
  -d '{"email": "admin@jlabs.com", "password": "password123"}'
```

### Get Current IP Geolocation
```bash
curl -X GET http://localhost:8000/api/geo \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

### Get Specific IP Geolocation
```bash
curl -X GET "http://localhost:8000/api/geo?ip=8.8.8.8" \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

### Get Search History
```bash
curl -X GET http://localhost:8000/api/history \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

### Delete History Entries
```bash
curl -X POST http://localhost:8000/api/history/delete \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{"ids": [2, 3]}'
```

---

## Error Handling

All endpoints return appropriate HTTP status codes:

- `200` - Success
- `401` - Unauthorized (invalid/missing token)
- `422` - Validation Error (invalid input)
- `500` - Server Error (external API failures)

Error responses follow this format:
```json
{
  "message": "Error description",
  "errors": {
    "field": ["Specific error message"]
  }
}
```

---

## Notes

- CORS is configured for frontend integration
- All tokens expire when user logs out
- IP geolocation searches are automatically saved to history
- External API calls include 10-second timeout
- Users can only delete their own search history entries
</file>

<file path="components.json">
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": false,
  "tsx": false,
  "tailwind": {
    "config": "tailwind.config.js",
    "css": "src/index.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "iconLibrary": "lucide",
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "registries": {}
}
</file>

<file path="eslint.config.js">
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])
</file>

<file path="jsconfig.json">
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
</file>

<file path="postcss.config.js">
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}
</file>

<file path="public/vite.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>
</file>

<file path="src/App.css">
#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}
</file>

<file path="src/assets/react.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>
</file>

<file path="src/components/ui/buttonVariants.js">
import { cva } from "class-variance-authority";

export const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default:
          "bg-primary text-primary-foreground shadow hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",
        outline:
          "border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2",
        sm: "h-8 rounded-md px-3 text-xs",
        lg: "h-10 rounded-md px-8",
        icon: "h-9 w-9",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)
</file>

<file path="src/components/ui/Card.jsx">
import React from 'react';

const Card = ({ 
  children, 
  className = '', 
  padding = 'md',
  shadow = 'md',
  ...props 
}) => {
  const baseClasses = 'bg-white rounded-lg';
  
  const paddings = {
    none: '',
    sm: 'p-4',
    md: 'p-6',
    lg: 'p-8',
  };
  
  const shadows = {
    none: '',
    sm: 'shadow-sm',
    md: 'shadow-md',
    lg: 'shadow-lg',
  };

  const classes = `${baseClasses} ${paddings[padding]} ${shadows[shadow]} ${className}`;

  return (
    <div className={classes} {...props}>
      {children}
    </div>
  );
};

export default Card;
</file>

<file path="src/components/ui/Icon.jsx">
import React from 'react';

const Icon = ({ name, className = '', size = 'default', ...props }) => {
  const sizeClasses = {
    xs: 'h-3 w-3',
    sm: 'h-4 w-4',
    default: 'h-5 w-5',
    md: 'h-6 w-6',
    lg: 'h-8 w-8',
    xl: 'h-12 w-12'
  };

  const icons = {
    // Navigation
    'arrow-left': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M15 19l-7-7 7-7" />
      </svg>
    ),
    'arrow-right': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 5l7 7-7 7" />
      </svg>
    ),
    'chevron-left': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M15 19l-7-7 7-7m8 14l-7-7 7-7" />
      </svg>
    ),
    'chevron-right': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 5l7 7-7 7M5 5l7 7-7 7" />
      </svg>
    ),
    'chevrons-left': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" />
      </svg>
    ),
    'chevrons-right': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
      </svg>
    ),

    // Actions
    'trash': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
      </svg>
    ),
    'search': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
      </svg>
    ),
    'refresh': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
      </svg>
    ),
    'logout': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
      </svg>
    ),
    'copy': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
      </svg>
    ),
    'external-link': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
      </svg>
    ),
    'link': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
      </svg>
    ),
    'map': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
      </svg>
    ),

    // Location
    'location-pin': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
      </svg>
    ),
    'globe': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    ),

    // Status & Feedback
    'check': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M5 13l4 4L19 7" />
      </svg>
    ),
    'x': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    ),
    'exclamation': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="currentColor" viewBox="0 0 20 20" {...props}>
        <path fillRule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clipRule="evenodd" />
      </svg>
    ),
    'info': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="currentColor" viewBox="0 0 20 20" {...props}>
        <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd" />
      </svg>
    ),
    'success': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="currentColor" viewBox="0 0 20 20" {...props}>
        <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
      </svg>
    ),
    'error': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="currentColor" viewBox="0 0 20 20" {...props}>
        <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clipRule="evenodd" />
      </svg>
    ),

    // Time
    'clock': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    ),

    // User
    'user': (
      <svg className={`${sizeClasses[size]} ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
      </svg>
    ),

    // Loading
    'spinner': (
      <svg className={`${sizeClasses[size]} ${className} animate-spin`} xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" {...props}>
        <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
        <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
      </svg>
    )
  };

  return icons[name] || null;
};

export default Icon;
</file>

<file path="src/components/ui/pagination.jsx">
import * as React from "react"
import { ChevronLeft, ChevronRight, MoreHorizontal, ChevronsLeft, ChevronsRight } from "lucide-react"

import { cn } from "@/lib/utils"
import { buttonVariants } from "./buttonVariants";

const Pagination = ({
  className,
  ...props
}) => (
  <nav
    role="navigation"
    aria-label="pagination"
    className={cn("mx-auto flex w-full justify-center", className)}
    {...props} />
)
Pagination.displayName = "Pagination"

const PaginationContent = React.forwardRef(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    className={cn("flex flex-row flex-wrap items-center gap-1", className)}
    {...props} />
))
PaginationContent.displayName = "PaginationContent"

const PaginationItem = React.forwardRef(({ className, ...props }, ref) => (
  <li ref={ref} className={cn("", className)} {...props} />
))
PaginationItem.displayName = "PaginationItem"

const PaginationLink = ({
  className,
  isActive,
  size = "icon",
  ...props
}) => (
  <a
    aria-current={isActive ? "page" : undefined}
    className={cn(buttonVariants({
      variant: isActive ? "outline" : "ghost",
      size,
    }), className)}
    {...props} />
)
PaginationLink.displayName = "PaginationLink"

const PaginationFirst = ({
  className,
  ...props
}) => (
  <PaginationLink
    aria-label="Go to first page"
    size="icon"
    className={cn("gap-1", className)}
    {...props}>
    <ChevronsLeft className="h-4 w-4" />
  </PaginationLink>
)
PaginationFirst.displayName = "PaginationFirst"

const PaginationPrevious = ({
  className,
  ...props
}) => (
  <PaginationLink
    aria-label="Go to previous page"
    size="icon"
    className={cn("gap-1", className)}
    {...props}>
    <ChevronLeft className="h-4 w-4" />
  </PaginationLink>
)
PaginationPrevious.displayName = "PaginationPrevious"

const PaginationNext = ({
  className,
  ...props
}) => (
  <PaginationLink
    aria-label="Go to next page"
    size="icon"
    className={cn("gap-1", className)}
    {...props}>
    <ChevronRight className="h-4 w-4" />
  </PaginationLink>
)
PaginationNext.displayName = "PaginationNext"

const PaginationLast = ({
  className,
  ...props
}) => (
  <PaginationLink
    aria-label="Go to last page"
    size="icon"
    className={cn("gap-1", className)}
    {...props}>
    <ChevronsRight className="h-4 w-4" />
  </PaginationLink>
)
PaginationLast.displayName = "PaginationLast"

const PaginationEllipsis = ({
  className,
  ...props
}) => (
  <span
    aria-hidden
    className={cn("flex h-9 w-9 items-center justify-center", className)}
    {...props}>
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More pages</span>
  </span>
)
PaginationEllipsis.displayName = "PaginationEllipsis"

export {
  Pagination,
  PaginationContent,
  PaginationLink,
  PaginationItem,
  PaginationFirst,
  PaginationPrevious,
  PaginationNext,
  PaginationLast,
  PaginationEllipsis,
}
</file>

<file path="src/context/AuthContext.jsx">
import React, { createContext, useContext, useState, useEffect } from 'react';
import { authService } from '../services/authService';

const AuthContext = createContext();

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};

export const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // Check authentication status on mount
    const checkAuth = async () => {
      if (authService.isAuthenticated()) {
        const storedUser = authService.getStoredUser();
        setUser(storedUser);
        
        // Verify token is still valid
        const result = await authService.getCurrentUser();
        if (!result.success) {
          // Token invalid, clear storage
          authService.logout();
          setUser(null);
        }
      }
      setLoading(false);
    };

    checkAuth();
  }, []);

  const login = async (email, password) => {
    setLoading(true);
    const result = await authService.login(email, password);
    
    if (result.success) {
      setUser(result.user);
    }
    
    setLoading(false);
    return result;
  };

  const logout = async () => {
    setLoading(true);
    await authService.logout();
    setUser(null);
    setLoading(false);
  };

  const value = {
    user,
    login,
    logout,
    isAuthenticated: !!user,
    loading
  };

  return (
    <AuthContext.Provider value={value}>
      {children}
    </AuthContext.Provider>
  );
};
</file>

<file path="src/hooks/useGeoLocation.js">
import { useState, useCallback } from 'react';
import { geoService } from '../services/geoService';
import toast from 'react-hot-toast';

export const useGeoLocation = () => {
  const [geoData, setGeoData] = useState(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);

  const fetchCurrentLocation = useCallback(async () => {
    try {
      setLoading(true);
      setError(null);
      const result = await geoService.getGeo();
      
      if (result.success) {
        setGeoData(result.data);
      } else {
        setError(result.message || 'Failed to fetch current location');
        toast.error(result.message || 'Failed to fetch current location');
      }
    } catch {
      const errorMessage = 'Failed to fetch current location';
      setError(errorMessage);
      toast.error(errorMessage);
    } finally {
      setLoading(false);
    }
  }, []);

  const searchByIP = useCallback(async (ipAddress) => {
    try {
      setLoading(true);
      setError(null);
      
      const result = await geoService.getGeo(ipAddress);
      
      if (result.success) {
        setGeoData(result.data);
        toast.success(`Location found for ${ipAddress}`);
        return { success: true, data: result.data };
      } else {
        setError(result.message || 'Failed to fetch location');
        toast.error(result.message || 'Failed to fetch location');
        
        if (result.errors?.ip) {
          toast.error(result.errors.ip[0]);
        }
        return { success: false, error: result.message };
      }
    } catch {
      const errorMessage = 'Failed to fetch location';
      setError(errorMessage);
      toast.error(errorMessage);
      return { success: false, error: errorMessage };
    } finally {
      setLoading(false);
    }
  }, []);

  const clearData = useCallback(() => {
    setGeoData(null);
    setError(null);
  }, []);

  const setGeoDataDirect = useCallback((data) => {
    setGeoData(data);
    setError(null);
  }, []);

  return {
    geoData,
    loading,
    error,
    fetchCurrentLocation,
    searchByIP,
    clearData,
    setGeoDataDirect,
  };
};
</file>

<file path="src/hooks/usePagination.js">
import { useState, useMemo } from 'react';

export const usePagination = (data, itemsPerPage = 4) => {
  const [currentPage, setCurrentPage] = useState(1);

  // Calculate total pages
  const totalPages = useMemo(() => {
    return Math.ceil(data.length / itemsPerPage);
  }, [data.length, itemsPerPage]);

  // Get current page data
  const currentData = useMemo(() => {
    const startIndex = (currentPage - 1) * itemsPerPage;
    const endIndex = startIndex + itemsPerPage;
    return data.slice(startIndex, endIndex);
  }, [data, currentPage, itemsPerPage]);

  // Navigation functions
  const goToPage = (page) => {
    if (page >= 1 && page <= totalPages) {
      setCurrentPage(page);
    }
  };

  const goToPreviousPage = () => {
    goToPage(currentPage - 1);
  };

  const goToNextPage = () => {
    goToPage(currentPage + 1);
  };

  const goToFirstPage = () => {
    goToPage(1);
  };

  const goToLastPage = () => {
    goToPage(totalPages);
  };

  // Reset to first page when data changes
  const resetPagination = () => {
    setCurrentPage(1);
  };

  return {
    currentPage,
    totalPages,
    currentData,
    goToPage,
    goToPreviousPage,
    goToNextPage,
    goToFirstPage,
    goToLastPage,
    resetPagination,
    hasNextPage: currentPage < totalPages,
    hasPreviousPage: currentPage > 1,
    startIndex: (currentPage - 1) * itemsPerPage,
    endIndex: Math.min(currentPage * itemsPerPage, data.length),
    totalItems: data.length
  };
};
</file>

<file path="src/lib/utils.js">
import { clsx } from "clsx";
import { twMerge } from "tailwind-merge"

export function cn(...inputs) {
  return twMerge(clsx(inputs));
}
</file>

<file path="src/services/api.js">
import axios from 'axios';

const API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:8000';

const api = axios.create({
  baseURL: API_BASE_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

// Add authorization token to requests
api.interceptors.request.use((config) => {
  const token = localStorage.getItem('auth_token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// Handle 401 responses globally
api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      // Clear auth data and redirect to login
      localStorage.removeItem('auth_token');
      localStorage.removeItem('user');
      
      // Only redirect if we're not already on the login page
      if (window.location.pathname !== '/login') {
        window.location.href = '/login';
      }
    }
    return Promise.reject(error);
  }
);

export default api;
</file>

<file path="src/services/authService.js">
import api from './api';

export const authService = {
  // Login user
  async login(email, password) {
    try {
      const response = await api.post('/api/login', { email, password });
      const { access_token, user } = response.data;
      
      // Store token in localStorage
      localStorage.setItem('auth_token', access_token);
      localStorage.setItem('user', JSON.stringify(user));
      
      return { success: true, user, token: access_token };
    } catch (error) {
      return { 
        success: false, 
        message: error.response?.data?.message || 'Login failed' 
      };
    }
  },

  // Logout user
  async logout() {
    try {
      await api.post('/api/logout');
    } catch (error) {
      console.error('Logout error:', error);
    } finally {
      // Clear local storage regardless of API call success
      localStorage.removeItem('auth_token');
      localStorage.removeItem('user');
    }
  },

  // Get current user
  async getCurrentUser() {
    try {
      const response = await api.get('/api/user');
      return { success: true, user: response.data };
    } catch {
      return { success: false };
    }
  },

  // Check if user is logged in
  isAuthenticated() {
    const token = localStorage.getItem('auth_token');
    return !!token;
  },

  // Get stored user data
  getStoredUser() {
    const user = localStorage.getItem('user');
    return user ? JSON.parse(user) : null;
  }
};
</file>

<file path="src/services/geoService.js">
import api from './api';

export const geoService = {
  // Get geolocation data (current IP or specific IP)
  async getGeo(ip = null) {
    try {
      const params = ip ? { ip } : {};
      const response = await api.get('/api/geo', { params });
      return { success: true, data: response.data };
    } catch (error) {
      return { 
        success: false, 
        message: error.response?.data?.message || 'Failed to fetch geolocation data',
        errors: error.response?.data?.errors || {}
      };
    }
  },

  // Get search history
  async getHistory() {
    try {
      const response = await api.get('/api/history');
      return { success: true, data: response.data };
    } catch (error) {
      return { 
        success: false, 
        message: error.response?.data?.message || 'Failed to fetch history'
      };
    }
  },

  // Delete history entries
  async deleteHistory(ids) {
    try {
      await api.post('/api/history/delete', { ids });
      return { success: true };
    } catch (error) {
      return { 
        success: false, 
        message: error.response?.data?.message || 'Failed to delete history',
        errors: error.response?.data?.errors || {}
      };
    }
  }
};
</file>

<file path="src/utils/sweetAlertConfig.js">
import Swal from 'sweetalert2';

// Global SweetAlert configuration
Swal.mixin({
  customClass: {
    confirmButton: 'bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md px-4 py-2 text-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2',
    cancelButton: 'bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-md px-4 py-2 text-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2',
    actions: 'gap-3',
    popup: 'rounded-lg shadow-lg'
  },
  buttonsStyling: false, // Disable default styling to use our custom classes
  showClass: {
    popup: 'animate__animated animate__fadeInDown'
  },
  hideClass: {
    popup: 'animate__animated animate__fadeOutUp'
  }
});

export const sweetAlertService = {
  // Generic confirmation dialog for non-delete actions
  confirmAction: async (title, text, confirmButtonText = 'Confirm', isDestructive = false) => {
    return Swal.fire({
      title: title,
      html: `
        <div class="text-center">
          <p class="text-gray-700 mb-2">${text}</p>
        </div>
      `,
      icon: 'question',
      showCancelButton: true,
      confirmButtonText: confirmButtonText,
      cancelButtonText: 'Cancel',
      reverseButtons: true,
      focusCancel: true,
      customClass: {
        confirmButton: isDestructive 
          ? 'bg-red-600 hover:bg-red-700 text-white font-medium rounded-md px-4 py-2 text-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2'
          : 'bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md px-4 py-2 text-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2',
        cancelButton: 'bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-md px-4 py-2 text-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2',
        actions: 'gap-3',
        popup: 'rounded-lg shadow-lg'
      },
      buttonsStyling: false
    });
  },

  // Delete confirmation dialog
  confirmDelete: async (itemCount, itemType = 'item', customMessage = null) => {
    return Swal.fire({
      title: 'Delete Selected Items?',
      html: `
        <div class="text-center">
          <p class="text-gray-700 mb-2">
            ${customMessage || `Are you sure you want to delete <strong class="text-red-600">${itemCount}</strong> ${itemType}${itemCount !== 1 ? 's' : ''}?`}
          </p>
          <p class="text-gray-500 text-sm">
            This action cannot be undone.
          </p>
        </div>
      `,
      icon: 'warning',
      showCancelButton: true,
      confirmButtonText: `Delete ${itemCount} ${itemType}${itemCount !== 1 ? 's' : ''}`,
      cancelButtonText: 'Cancel',
      reverseButtons: true,
      focusCancel: true,
      customClass: {
        confirmButton: 'bg-red-600 hover:bg-red-700 text-white font-medium rounded-md px-4 py-2 text-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2',
        cancelButton: 'bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-md px-4 py-2 text-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2',
        actions: 'gap-3',
        popup: 'rounded-lg shadow-lg'
      },
      buttonsStyling: false
    });
  },

  // Success dialog
  showSuccess: (title, message, timer = 2000) => {
    return Swal.fire({
      title,
      html: `<p class="text-gray-700">${message}</p>`,
      icon: 'success',
      timer,
      timerProgressBar: true,
      showConfirmButton: false
    });
  },

  // Error dialog
  showError: (title, message) => {
    return Swal.fire({
      title,
      text: message,
      icon: 'error',
      confirmButtonText: 'OK',
      confirmButtonColor: '#dc2626'
    });
  },

  // Info dialog
  showInfo: (title, message) => {
    return Swal.fire({
      title,
      html: `<p class="text-gray-700">${message}</p>`,
      icon: 'info',
      confirmButtonText: 'OK'
    });
  },

  // Warning dialog
  showWarning: (title, message) => {
    return Swal.fire({
      title,
      html: `<p class="text-gray-700">${message}</p>`,
      icon: 'warning',
      confirmButtonText: 'Continue',
      confirmButtonColor: '#f59e0b'
    });
  },

  // Loading dialog
  showLoading: (title = 'Loading...') => {
    return Swal.fire({
      title,
      html: '<div class="text-gray-500">Please wait while we process your request.</div>',
      allowOutsideClick: false,
      allowEscapeKey: false,
      showConfirmButton: false,
      didOpen: () => {
        Swal.showLoading();
      }
    });
  },

  // Close current dialog
  close: () => {
    Swal.close();
  }
};

export default sweetAlertService;
</file>

<file path="index.html">
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/geolocator-favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="GeoLocator - Advanced IP Geolocation Tool. Find location information for any IP address with detailed geolocation data." />
    <title>GeoLocator - IP Geolocation Tool</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
</file>

<file path="public/geolocator-favicon.svg">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32">
  <rect width="32" height="32" rx="6" fill="#111827"/>
  <g transform="translate(16, 16)">
    <circle r="10" fill="none" stroke="white" stroke-width="1.5"/>
    <path d="M 0,-10 L 0,10" stroke="white" stroke-width="1.5"/>
    <path d="M -10,0 L 10,0" stroke="white" stroke-width="1.5"/>
    <path d="M -7,-7 L 7,7" stroke="white" stroke-width="1"/>
    <path d="M 7,-7 L -7,7" stroke="white" stroke-width="1"/>
    <ellipse rx="10" ry="3" fill="white" opacity="0.3"/>
    <ellipse rx="10" ry="3" fill="white" opacity="0.3" transform="rotate(90)"/>
  </g>
</svg>
</file>

<file path="README.md">
# GeoLocator - IP Geolocation Tool

A modern React frontend application for IP geolocation lookup with authentication, search history, and responsive UI design.

## üåü Features

- **üîê Secure Authentication** - JWT-based login/logout with Laravel Sanctum
- **üåç IP Geolocation** - Real-time IP address lookup using ipinfo.io API
- **üìù Search History** - Persistent search history with management capabilities
- **üì± Responsive Design** - Mobile-first UI built with Tailwind CSS
- **‚ö° Modern Stack** - React 19, Vite, and shadcn/ui components
- **üé® Beautiful UI** - Clean, professional interface with smooth animations
- **üîÑ Real-time Updates** - Live data fetching and state management

## üõ† Tech Stack

### Frontend
- **React 19.2.0** - UI framework with hooks
- **Vite 7.2.4** - Fast build tool and dev server
- **React Router 7.10.1** - Client-side routing
- **Tailwind CSS 3.4.1** - Utility-first CSS framework
- **shadcn/ui** - Modern UI component library
- **Lucide React** - Icon library
- **Axios 1.13.2** - HTTP client for API requests
- **React Hot Toast** - Notification system
- **SweetAlert2** - Enhanced alert dialogs

### Backend Integration
- **Laravel API** - Authentication and geolocation services
- **JWT Tokens** - Secure authentication
- **ipinfo.io API** - Geolocation data provider

## üìã Prerequisites

- Node.js 18+ and npm
- Laravel backend running on `http://localhost:8000`
- Valid API credentials for the backend

## üöÄ Installation

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd frontend-geo
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Environment setup**
   ```bash
   cp .env.example .env
   ```
   
   Configure your environment variables:
   ```env
   VITE_API_BASE_URL=http://localhost:8000
   ```

4. **Start development server**
   ```bash
   npm run dev
   ```

5. **Open your browser**
   Navigate to `http://localhost:5173`

## ‚öôÔ∏è Environment Variables

Create a `.env` file in the root directory:

```env
# API Configuration
VITE_API_BASE_URL=http://localhost:8000
```

## üèó Project Structure

```
src/
‚îú‚îÄ‚îÄ components/          # Reusable UI components
‚îÇ   ‚îú‚îÄ‚îÄ auth/           # Authentication components
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PrivateRoute.jsx
‚îÇ   ‚îú‚îÄ‚îÄ geo/            # Geolocation components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GeoDisplay.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HistoryList.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ IPSearch.jsx
‚îÇ   ‚îî‚îÄ‚îÄ ui/             # UI components
‚îÇ       ‚îú‚îÄ‚îÄ Button.jsx
‚îÇ       ‚îú‚îÄ‚îÄ Card.jsx
‚îÇ       ‚îú‚îÄ‚îÄ Input.jsx
‚îÇ       ‚îî‚îÄ‚îÄ LoadingSpinner.jsx
‚îú‚îÄ‚îÄ context/            # React context
‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.jsx
‚îú‚îÄ‚îÄ hooks/              # Custom hooks
‚îÇ   ‚îú‚îÄ‚îÄ useGeoLocation.js
‚îÇ   ‚îî‚îÄ‚îÄ usePagination.js
‚îú‚îÄ‚îÄ pages/              # Page components
‚îÇ   ‚îú‚îÄ‚îÄ HomePage.jsx
‚îÇ   ‚îî‚îÄ‚îÄ LoginPage.jsx
‚îú‚îÄ‚îÄ services/           # API services
‚îÇ   ‚îî‚îÄ‚îÄ api.js
‚îú‚îÄ‚îÄ utils/              # Utility functions
‚îÇ   ‚îî‚îÄ‚îÄ sweetAlertConfig.js
‚îú‚îÄ‚îÄ App.jsx             # Main app component
‚îî‚îÄ‚îÄ main.jsx            # App entry point
```

## üîê Authentication Flow

1. **Login**: Users authenticate via `/api/login` endpoint
2. **Token Storage**: JWT tokens stored in localStorage
3. **Auto-redirect**: Protected routes redirect to login if unauthenticated
4. **Token Management**: Automatic token inclusion in API requests
5. **Logout**: Token invalidation and cleanup on logout

### Test Credentials
- **Email**: `admin@jlabs.com`
- **Password**: `password123`

## üåç API Integration

The application integrates with a Laravel backend API. For detailed API documentation, see [API_DOCUMENTATION.md](./API_DOCUMENTATION.md).

### Key Endpoints Used
- `POST /api/login` - User authentication
- `GET /api/geo` - IP geolocation lookup
- `GET /api/history` - Search history retrieval
- `POST /api/history/delete` - History deletion

## üéØ Component Architecture

### Core Components
- **HomePage**: Main dashboard with search and history
- **IPSearch**: IP address input and validation
- **GeoDisplay**: Geolocation data visualization
- **HistoryList**: Search history management
- **PrivateRoute**: Authentication guard component

### Custom Hooks
- **useGeoLocation**: Manages geolocation state and API calls
- **usePagination**: Handles pagination logic
- **useAuth**: Authentication state management

## üé® UI Features

- **Responsive Design**: Mobile-first approach with breakpoints
- **Dark Mode Support**: Configurable theme system
- **Loading States**: Skeleton loaders and spinners
- **Error Handling**: User-friendly error messages
- **Smooth Animations**: CSS transitions and micro-interactions
- **Accessibility**: ARIA labels and keyboard navigation

## üì± Available Scripts

```bash
# Start development server
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview

# Run ESLint
npm run lint
```

## üîß Development

### Code Quality
- **ESLint**: JavaScript/React linting
- **Prettier**: Code formatting (recommended)
- **Git Hooks**: Pre-commit linting

### Best Practices
- Component-based architecture
- Custom hooks for reusable logic
- Consistent error handling
- Proper loading states
- Responsive design principles

## üêõ Troubleshooting

### Common Issues

1. **CORS Errors**
   - Ensure backend CORS is configured for `http://localhost:5173`
   - Check `.env` file for correct API URL

2. **Authentication Issues**
   - Verify backend is running on port 8000
   - Check localStorage for valid tokens
   - Confirm API credentials are correct

3. **Build Errors**
   - Clear node_modules and reinstall: `rm -rf node_modules package-lock.json && npm install`
   - Check Node.js version compatibility

4. **Styling Issues**
   - Ensure Tailwind CSS is properly configured
   - Check PostCSS configuration

## üìö Additional Documentation

- [API Documentation](./API_DOCUMENTATION.md) - Backend API reference
- [Component Documentation](./src/components/) - Individual component docs
- [Laravel Backend](../backend/) - Backend application setup

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch: `git checkout -b feature-name`
3. Commit changes: `git commit -m 'Add feature'`
4. Push to branch: `git push origin feature-name`
5. Submit a pull request

## üìÑ License

This project is licensed under the MIT License.

## üôè Acknowledgments

- [ipinfo.io](https://ipinfo.io) - Geolocation data provider
- [shadcn/ui](https://ui.shadcn.com/) - UI component library
- [Tailwind CSS](https://tailwindcss.com/) - CSS framework
- [Vite](https://vite.dev/) - Build tool
</file>

<file path="src/components/auth/PrivateRoute.jsx">
import React from 'react';
import { Navigate } from 'react-router-dom';
import LoadingSpinner from '../ui/LoadingSpinner';
import { useAuth } from '../../context/AuthContext.jsx';

const PrivateRoute = ({ children }) => {
  const { isAuthenticated, loading } = useAuth();

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-gray-50">
        <div className="text-center">
          <LoadingSpinner size="lg" className="mx-auto" />
          <p className="mt-4 text-gray-600">Loading...</p>
        </div>
      </div>
    );
  }

  return isAuthenticated ? children : <Navigate to="/login" replace />;
};

export default PrivateRoute;
</file>

<file path="src/components/geo/GeoDisplay.jsx">
import React from 'react';
import LoadingSpinner from '../ui/LoadingSpinner';
import Alert from '../ui/Alert';
import Card from '../ui/Card';

const GeoDisplay = ({ geoData, loading, error }) => {
  if (loading) {
    return (
      <Card>
        <div className="flex flex-col items-center justify-center py-12">
          <LoadingSpinner size="lg" className="mb-4" />
          <p className="text-gray-600 font-medium">Fetching location data...</p>
          <p className="text-gray-500 text-sm mt-1">This may take a few seconds</p>
        </div>
      </Card>
    );
  }

  if (error) {
    return (
      <Alert variant="error">
        <strong>Error:</strong> {error}
      </Alert>
    );
  }

  if (!geoData) {
    return (
      <Card>
        <div className="text-center py-12">
          <svg className="mx-auto h-12 w-12 text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          <h3 className="text-lg font-medium text-gray-900 mb-2">No Location Data</h3>
          <p className="text-gray-500">Search for an IP address to see location information</p>
        </div>
      </Card>
    );
  }

  const formatCoordinates = (lat, lon) => {
    return `${parseFloat(lat).toFixed(6)}, ${parseFloat(lon).toFixed(6)}`;
  };

  const getMapUrl = (lat, lon) => {
    return `https://www.google.com/maps?q=${lat},${lon}`;
  };

  return (
    <Card id="location-information">
      <div className="mb-6">
        <h3 className="text-lg font-semibold text-gray-900 mb-2">Location Information</h3>
        <div className="flex items-center space-x-2">
          <span className="inline-flex items-center px-2.5 py-0.5 rounded-lg text-xs font-medium bg-primary/10 text-primary">
            <svg className="mr-1 h-3 w-3" fill="currentColor" viewBox="0 0 20 20">
              <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
            </svg>
            Active
          </span>
          <span className="text-sm text-gray-500">
            Last updated: {new Date().toLocaleTimeString()}
          </span>
        </div>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        {/* Basic Information */}
        <div className="space-y-4">
          <div>
            <h4 className="text-sm font-medium text-gray-900 mb-3">Basic Information</h4>
            <dl className="space-y-3">
              <div className="flex flex-col sm:flex-row sm:justify-between sm:items-start py-2 border-b border-gray-100 gap-1">
                <dt className="text-sm font-medium text-gray-500">IP Address</dt>
                <dd className="text-sm font-mono text-gray-900 bg-gray-50 px-2 py-1 rounded break-all max-w-full">
                  {geoData.ip}
                </dd>
              </div>
              
              <div className="flex justify-between items-center py-2 border-b border-gray-100">
                <dt className="text-sm font-medium text-gray-500">City</dt>
                <dd className="text-sm text-gray-900 font-medium">
                  {geoData.city || 'Unknown'}
                </dd>
              </div>
              
              <div className="flex justify-between items-center py-2 border-b border-gray-100">
                <dt className="text-sm font-medium text-gray-500">Region</dt>
                <dd className="text-sm text-gray-900">
                  {geoData.region || 'Unknown'}
                </dd>
              </div>
              
              <div className="flex justify-between items-center py-2 border-b border-gray-100">
                <dt className="text-sm font-medium text-gray-500">Country</dt>
                <dd className="text-sm text-gray-900 font-medium">
                  {geoData.country || 'Unknown'}
                </dd>
              </div>
            </dl>
          </div>
        </div>

        {/* Technical Information */}
        <div className="space-y-4">
          <div>
            <h4 className="text-sm font-medium text-gray-900 mb-3">Technical Information</h4>
            <dl className="space-y-3">
              <div className="flex justify-between items-center py-2 border-b border-gray-100">
                <dt className="text-sm font-medium text-gray-500">Coordinates</dt>
                <dd className="text-sm font-mono text-gray-900 bg-gray-50 px-2 py-1 rounded">
                  {formatCoordinates(geoData.loc?.split(',')[0], geoData.loc?.split(',')[1])}
                </dd>
              </div>
              
              <div className="flex justify-between items-center py-2 border-b border-gray-100">
                <dt className="text-sm font-medium text-gray-500">Postal Code</dt>
                <dd className="text-sm text-gray-900">
                  {geoData.postal || 'Unknown'}
                </dd>
              </div>
              
              <div className="flex justify-between items-center py-2 border-b border-gray-100">
                <dt className="text-sm font-medium text-gray-500">Timezone</dt>
                <dd className="text-sm text-gray-900">
                  {geoData.timezone || 'Unknown'}
                </dd>
              </div>
              
              <div className="flex justify-between items-center py-2">
                <dt className="text-sm font-medium text-gray-500">Organization</dt>
                <dd className="text-sm text-gray-900">
                  {geoData.org || 'Unknown'}
                </dd>
              </div>
            </dl>
          </div>
        </div>
      </div>

      {/* Action Buttons */}
      <div className="mt-6 pt-6 border-t border-gray-200">
        <div className="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4">
          <a
            href={getMapUrl(geoData.loc?.split(',')[0], geoData.loc?.split(',')[1])}
            target="_blank"
            rel="noopener noreferrer"
            className="inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ring transition-colors duration-200"
          >
            <svg className="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
            </svg>
            View on Google Maps
          </a>
          
          <button
            onClick={() => {
              const text = `Location: ${geoData.city}, ${geoData.country}\nIP: ${geoData.ip}\nCoordinates: ${formatCoordinates(geoData.loc?.split(',')[0], geoData.loc?.split(',')[1])}`;
              navigator.clipboard.writeText(text);
            }}
            className="inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"
          >
            <svg className="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
            Copy Details
          </button>
        </div>
      </div>
    </Card>
  );
};

export default GeoDisplay;
</file>

<file path="src/components/geo/HistoryList.jsx">
import React, { useState, useEffect } from 'react';
import toast from 'react-hot-toast';
import { geoService } from '../../services/geoService';
import { sweetAlertService } from '../../utils/sweetAlertConfig';
import { usePagination } from '../../hooks/usePagination';
import Button from '../ui/Button';
import Card from '../ui/Card';
import LoadingSpinner from '../ui/LoadingSpinner';
import {
  Pagination,
  PaginationContent,
  PaginationItem,
  PaginationLink,
  PaginationFirst,
  PaginationPrevious,
  PaginationNext,
  PaginationLast,
  PaginationEllipsis,
} from '@/components/ui/pagination';
import Icon from '../ui/Icon';

const HistoryList = ({ onHistoryItemClick, refreshTrigger, activeItemId }) => {
  const [history, setHistory] = useState([]);
  const [loading, setLoading] = useState(false);
  const [selectedItems, setSelectedItems] = useState(new Set());
  const [deleteLoading, setDeleteLoading] = useState(false);

  // Use pagination hook with 4 items per page
  const pagination = usePagination(history, 4);

  const fetchHistory = async () => {
    try {
      setLoading(true);
      const result = await geoService.getHistory();
      if (result.success) {
        setHistory(result.data);
      } else {
        toast.error(result.message || 'Failed to fetch history');
      }
    } catch {
      toast.error('Failed to fetch search history');
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    fetchHistory();
  }, [refreshTrigger]);

  const handleSelectAll = (checked) => {
    if (checked) {
      setSelectedItems(new Set(history.map(item => item.id)));
    } else {
      setSelectedItems(new Set());
    }
  };

  const handleSelectItem = (id, checked) => {
    const newSelected = new Set(selectedItems);
    if (checked) {
      newSelected.add(id);
    } else {
      newSelected.delete(id);
    }
    setSelectedItems(newSelected);
  };

  const handleBulkDelete = async () => {
    if (selectedItems.size === 0) {
      toast.error('No items selected for deletion');
      return;
    }

    try {
      // Show SweetAlert confirmation dialog
      const result = await sweetAlertService.confirmDelete(selectedItems.size, 'history item');

      if (result.isConfirmed) {
        setDeleteLoading(true);
        
        // Show loading dialog
        sweetAlertService.showLoading('Deleting Items...');

        const idsToDelete = Array.from(selectedItems);
        const deleteResult = await geoService.deleteHistory(idsToDelete);
        
        if (deleteResult.success) {
          setSelectedItems(new Set());
          await fetchHistory();
          
          // Close loading and show success
          sweetAlertService.close();
          await sweetAlertService.showSuccess(
            'Deleted!',
            `Successfully deleted ${idsToDelete.length} history item${idsToDelete.length !== 1 ? 's' : ''}.`
          );
          
          toast.success(`Deleted ${idsToDelete.length} history item${idsToDelete.length !== 1 ? 's' : ''}`);
        } else {
          throw new Error(deleteResult.message || 'Failed to delete history items');
        }
      }
    } catch (error) {
      sweetAlertService.close();
      await sweetAlertService.showError(
        'Error!',
        error.message || 'Failed to delete history items'
      );
      toast.error(error.message || 'Failed to delete history items');
    } finally {
      setDeleteLoading(false);
    }
  };

  const handleItemClick = (item) => {
    if (onHistoryItemClick) {
      onHistoryItemClick(item);
    }
  };

  const formatDate = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleString('en-US', {
      month: 'short',
      day: 'numeric',
      year: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    });
  };

  const truncateText = (text, maxLength) => {
    if (!text) return 'Unknown';
    return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;
  };

  return (
    <Card>
      <div className="mb-4">
        <div className="flex justify-between items-center">
          <h3 className="text-lg font-semibold text-gray-900">Search History</h3>
          <span className="inline-flex items-center px-2.5 py-0.5 rounded-lg text-xs font-medium bg-primary/10 text-primary">
            {history.length} {history.length === 1 ? 'item' : 'items'}
          </span>
        </div>
        <p className="text-sm text-gray-600 mt-1">
          Your recent IP geolocation searches
        </p>
      </div>

      {loading ? (
        <div className="flex flex-col items-center justify-center py-8">
          <LoadingSpinner size="md" className="mb-3" />
          <p className="text-sm text-gray-500">Loading history...</p>
        </div>
      ) : pagination.totalItems === 0 ? (
        <div className="text-center py-8">
          <Icon name="clock" size="xl" className="mx-auto mb-3" />
          <p className="text-sm text-gray-500">No search history</p>
          <p className="text-xs text-gray-400 mt-1">Your IP searches will appear here</p>
        </div>
      ) : (
        <>
          {/* Bulk Actions */}
          {history.length > 0 && (
            <div className="mb-4 p-3 bg-gray-50 rounded-md">
              <div className="flex items-center justify-between">
                <div className="flex items-center space-x-3">
                  <input
                    type="checkbox"
                    id="select-all"
                    checked={selectedItems.size === history.length && history.length > 0}
                    onChange={(e) => handleSelectAll(e.target.checked)}
                    className="h-4 w-4 text-primary focus:ring-ring border-gray-300 rounded"
                  />
                  <label htmlFor="select-all" className="text-sm font-medium text-gray-700">
                    Select All ({selectedItems.size} selected)
                  </label>
                </div>
                <div className="bg-gray-200  rounded-lg">
                  <Button
                    variant="danger"
                    size="sm"
                    onClick={handleBulkDelete}
                    loading={deleteLoading}
                    disabled={selectedItems.size === 0 || deleteLoading}
                  >
                    <Icon name="trash" className="-ml-1" />
                    Selected
                  </Button>
                </div>
              </div>
            </div>
          )}

          {/* History Items - Using paginated data */}
          <div className="space-y-2 max-h-96 overflow-y-auto">
            {pagination.currentData.map((item) => (
              <div
                key={item.id}
                className={`group relative flex items-start space-x-3 p-3 rounded-lg border transition-colors ${
                  activeItemId === item.id
                    ? 'bg-primary/5 border-primary/20 shadow-sm'
                    : 'border-gray-200 hover:border-primary/20 hover:bg-primary/5'
                } cursor-pointer`}
              >
                <input
                  type="checkbox"
                  checked={selectedItems.has(item.id)}
                  onChange={(e) => {
                    e.stopPropagation();
                    handleSelectItem(item.id, e.target.checked);
                  }}
                  className="mt-1 h-4 w-4 text-primary focus:ring-ring border-gray-300 rounded"
                />
                
                <div 
                  className="flex-1 min-w-0 cursor-pointer"
                  onClick={() => handleItemClick(item)}
                >
                  <div className="flex items-center justify-between">
                    <p className="text-sm font-medium text-gray-900 truncate">
                      {item.search_term}
                    </p>
                    <span className="text-xs text-gray-500">
                      {formatDate(item.created_at)}
                    </span>
                  </div>
                  
                  {item.geo_data && (
                    <div className="mt-1 text-xs text-gray-600">
                      <div className="flex flex-col sm:flex-row sm:items-center sm:space-x-4 space-y-1 sm:space-y-0">
                        <span className="flex items-center">
                          <Icon name="location-pin" size="xs" className="mr-1" />
                          {truncateText(item.geo_data.city, 15)}, {truncateText(item.geo_data.country, 15)}
                        </span>
                        <span className="flex items-center">
                          <img 
                            src="/image-logos/ip-address.png" 
                            alt="IP Address" 
                            className="h-3 w-3 mr-1 flex-shrink-0"
                          />
                          <span className="font-mono break-all max-w-[200px]">{item.geo_data.ip}</span>
                        </span>
                      </div>
                    </div>
                  )}
                </div>
              </div>
            ))}
          </div>

          {/* Pagination Component - Outside overflow */}
          {pagination.totalPages > 1 && (
            <div className="mt-4 pt-4 border-t border-gray-200">
              <div className="flex flex-col sm:flex-row items-center justify-between space-y-3 sm:space-y-0 gap-4">
                {/* Items info */}
                <span className="text-xs text-gray-500 leading-none whitespace-nowrap bg-gray-100 px-3 py-1 rounded-lg">
                  {pagination.startIndex + 1} - {pagination.endIndex} of {pagination.totalItems}
                </span>
                
                {/* Shadcn Pagination */}
                <Pagination>
                  <PaginationContent className="gap-1">
                    {/* First page button */}
                    <PaginationItem>
                      <PaginationFirst
                        href="#"
                        onClick={(e) => {
                          e.preventDefault();
                          pagination.goToPage(1);
                        }}
                        className={!pagination.hasPreviousPage ? "pointer-events-none opacity-50" : ""}
                      />
                    </PaginationItem>
                    
                    {/* Previous button */}
                    <PaginationItem>
                      <PaginationPrevious
                        href="#"
                        onClick={(e) => {
                          e.preventDefault();
                          pagination.goToPage(pagination.currentPage - 1);
                        }}
                        className={!pagination.hasPreviousPage ? "pointer-events-none opacity-50" : ""}
                      />
                    </PaginationItem>
                    
                    {/* Page numbers */}
                    {Array.from({ length: Math.min(5, pagination.totalPages) }, (_, i) => {
                      let pageNum;
                      if (pagination.totalPages <= 5) {
                        pageNum = i + 1;
                      } else if (pagination.currentPage <= 3) {
                        pageNum = i + 1;
                      } else if (pagination.currentPage >= pagination.totalPages - 2) {
                        pageNum = pagination.totalPages - 4 + i;
                      } else {
                        pageNum = pagination.currentPage - 2 + i;
                      }
                      
                      return (
                        <PaginationItem key={pageNum}>
                          <PaginationLink
                            href="#"
                            isActive={pageNum === pagination.currentPage}
                            onClick={(e) => {
                              e.preventDefault();
                              pagination.goToPage(pageNum);
                            }}
                          >
                            {pageNum}
                          </PaginationLink>
                        </PaginationItem>
                      );
                    })}
                    
                    {/* Ellipsis for many pages */}
                    {pagination.totalPages > 5 && (
                      <PaginationItem>
                        <PaginationEllipsis />
                      </PaginationItem>
                    )}
                    
                    {/* Next button */}
                    <PaginationItem>
                      <PaginationNext
                        href="#"
                        onClick={(e) => {
                          e.preventDefault();
                          pagination.goToPage(pagination.currentPage + 1);
                        }}
                        className={!pagination.hasNextPage ? "pointer-events-none opacity-50" : ""}
                      />
                    </PaginationItem>
                    
                    {/* Last page button */}
                    <PaginationItem>
                      <PaginationLast
                        href="#"
                        onClick={(e) => {
                          e.preventDefault();
                          pagination.goToPage(pagination.totalPages);
                        }}
                        className={!pagination.hasNextPage ? "pointer-events-none opacity-50" : ""}
                      />
                    </PaginationItem>
                  </PaginationContent>
                </Pagination>
              </div>
            </div>
          )}
        </>
      )}
    </Card>
  );
};

export default HistoryList;
</file>

<file path="src/components/geo/IPSearch.jsx">
import React, { useState } from 'react';
import Button from '../ui/Button';
import Card from '../ui/Card';
import Input from '../ui/Input';
import Alert from '../ui/Alert';
import Icon from '../ui/Icon';

const IPSearch = ({ onSearch, onClear, loading }) => {
  const [ipAddress, setIpAddress] = useState('');
  const [errors, setErrors] = useState({});

  const validateIP = (ip) => {
    // IPv4 regex pattern
    const ipv4Pattern = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;
    
    // IPv6 regex pattern (simplified)
    const ipv6Pattern = /^(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/;
    
    return ipv4Pattern.test(ip) || ipv6Pattern.test(ip);
  };

  const validateForm = () => {
    const newErrors = {};
    
    if (ipAddress.trim() && !validateIP(ipAddress.trim())) {
      newErrors.ip = 'Please enter a valid IP address (IPv4 or IPv6)';
    }
    
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    
    if (!validateForm()) {
      return;
    }

    const trimmedIp = ipAddress.trim();
    onSearch(trimmedIp || null); // Pass null for empty input to get current location
  };

  const handleInputChange = (value) => {
    setIpAddress(value);
    setErrors(prev => ({ ...prev, ip: '' }));
  };

  const sampleIPs = [
    { ip: '8.8.8.8', label: 'Google DNS' },
    { ip: '1.1.1.1', label: 'Cloudflare DNS' },
    { ip: '208.67.222.222', label: 'OpenDNS' }
  ];

  const searchIcon = (
    <img 
      src="/image-logos/ip-address.png" 
      alt="IP Address" 
      className="h-5 w-5 flex-shrink-0"
    />
  );

  return (
    <Card>
      <div className="mb-4">
        <h3 className="text-lg font-semibold text-gray-900 mb-2">IP Geolocation Search</h3>
        <p className="text-sm text-gray-600">
          Enter an IP address to find its geographical location
        </p>
      </div>

      <form onSubmit={handleSubmit} className="space-y-4">
        <Input
          id="ip-search"
          type="text"
          value={ipAddress}
          onChange={(e) => handleInputChange(e.target.value)}
          placeholder="Enter IP address (e.g., 8.8.8.8)"
          error={errors.ip}
          icon={searchIcon}
          disabled={loading}
        />

        <div className="flex space-x-3">
          <Button
            type="submit"
            loading={loading}
            disabled={loading}
            className="flex-1"
          >
            <Icon name="search" className="-ml-1 mr-2" />
            Search IP
          </Button>
          
          <Button
            type="button"
            variant="secondary"
            onClick={onClear}
            disabled={loading}
          >
            <Icon name="refresh" className="-ml-1 mr-2" />
            Clear
          </Button>
        </div>
      </form>

      <div className="mt-6 pt-6 border-t border-gray-200">
        <div className="mb-3">
          <h4 className="text-sm font-medium text-gray-900">Sample IP Addresses</h4>
          <p className="text-xs text-gray-500">Click to quickly search these examples</p>
        </div>
        <div className="grid grid-cols-1 sm:grid-cols-3 gap-2">
          {sampleIPs.map((sample) => (
            <Button
              key={sample.ip}
              variant="secondary"
              size="sm"
              onClick={() => {
                handleInputChange(sample.ip);
                onSearch(sample.ip);
              }}
              disabled={loading}
              className="justify-start"
            >
              <Icon name="link" size="xs" className="mr-1.5" />
              {sample.ip}
              <span className="ml-1 text-gray-400">({sample.label})</span>
            </Button>
          ))}
        </div>
      </div>

      <Alert variant="info" className="mt-4">
        <strong>Tip:</strong> Leave the input empty and click "Search IP" to get your current location.
      </Alert>
    </Card>
  );
};

export default IPSearch;
</file>

<file path="src/components/ui/Alert.jsx">
import React from 'react';
import Icon from './Icon';

const Alert = ({ 
  children, 
  variant = 'info', 
  className = '',
  ...props 
}) => {
  const baseClasses = 'p-4 rounded-md';
  
  const variants = {
    info: 'bg-blue-50 border border-blue-200',
    success: 'bg-green-50 border border-green-200',
    warning: 'bg-yellow-50 border border-yellow-200',
    error: 'bg-red-50 border border-red-200',
  };

  const iconVariants = {
    info: 'text-blue-400',
    success: 'text-green-400',
    warning: 'text-yellow-400',
    error: 'text-red-400',
  };

  const textVariants = {
    info: 'text-blue-800',
    success: 'text-green-800',
    warning: 'text-yellow-800',
    error: 'text-red-800',
  };

  const icons = {
    info: <Icon name="info" size="sm" />,
    success: <Icon name="success" size="sm" />,
    warning: <Icon name="exclamation" size="sm" />,
    error: <Icon name="error" size="sm" />,
  };

  const classes = `${baseClasses} ${variants[variant]} ${className}`;

  return (
    <div className={classes} {...props}>
      <div className="flex">
        <div className="flex-shrink-0">
          <div className={iconVariants[variant]}>
            {icons[variant]}
          </div>
        </div>
        <div className="ml-3">
          <div className={`text-sm ${textVariants[variant]}`}>
            {children}
          </div>
        </div>
      </div>
    </div>
  );
};

export default Alert;
</file>

<file path="src/components/ui/Button.jsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"

import { cn } from "@/lib/utils"
import { buttonVariants } from "./buttonVariants"
import LoadingSpinner from "./LoadingSpinner"

const Button = React.forwardRef(({ className, variant, size, asChild = false, loading = false, children, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"
  return (
    <Comp
      className={cn(buttonVariants({ variant, size, className }))}
      ref={ref}
      disabled={loading || props.disabled}
      {...props}
    >
      {loading && <LoadingSpinner size="sm" className="-ml-1 mr-2" />}
      {children}
    </Comp>
  );
})
Button.displayName = "Button"

export default Button
</file>

<file path="src/components/ui/Input.jsx">
import React from 'react';

const Input = ({ 
  label, 
  error, 
  icon, 
  className = '', 
  containerClassName = '',
  ...props 
}) => {
  const baseClasses = 'block w-full px-3 py-2 border rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-ring focus:border-input sm:text-sm';
  const errorClasses = error ? 'border-red-300' : 'border-gray-300';
  const inputClasses = `${baseClasses} ${errorClasses} ${icon ? 'pl-10' : ''} ${className}`;

  return (
    <div className={containerClassName}>
      {label && (
        <label htmlFor={props.id} className="sr-only">
          {label}
        </label>
      )}
      <div className="relative">
        {icon && (
          <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            {icon}
          </div>
        )}
        <input
          className={inputClasses}
          {...props}
        />
      </div>
      {error && (
        <p className="mt-2 text-sm text-red-600" id={`${props.id}-error`}>
          {error}
        </p>
      )}
    </div>
  );
};

export default Input;
</file>

<file path="src/components/ui/LoadingSpinner.jsx">
import React from 'react';

const LoadingSpinner = ({ size = 'md', className = '' }) => {
  const sizes = {
    sm: 'w-4 h-4',
    md: 'w-8 h-8',
    lg: 'w-12 h-12',
  };

  return (
    <div role="status" className={className}>
      <svg 
        aria-hidden="true" 
        className={`${sizes[size]} text-gray-400 animate-spin fill-primary`} 
        viewBox="0 0 100 101" 
        fill="none" 
        xmlns="http://www.w3.org/2000/svg"
      >
        <path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"/>
        <path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill"/>
      </svg>
      <span className="sr-only">Loading...</span>
    </div>
  );
};

export default LoadingSpinner;
</file>

<file path="src/main.jsx">
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.jsx'
import { AuthProvider } from './context/AuthContext.jsx'
import { Toaster } from 'react-hot-toast'

createRoot(document.getElementById('root')).render(
  <StrictMode>
    <AuthProvider>
      <App />
      <Toaster
        position="top-right"
        toastOptions={{
          duration: 4000,
          style: {
            background: '#363636',
            color: '#fff',
          },
          success: {
            duration: 3000,
            iconTheme: {
              primary: '#4ade80',
              secondary: '#fff',
            },
          },
          error: {
            duration: 5000,
            iconTheme: {
              primary: '#ef4444',
              secondary: '#fff',
            },
          },
        }}
      />
    </AuthProvider>
  </StrictMode>,
)
</file>

<file path="src/pages/HomePage.jsx">
import React, { useState, useEffect } from 'react';
import { useAuth } from '../context/AuthContext.jsx';
import { useGeoLocation } from '../hooks/useGeoLocation';
import toast from 'react-hot-toast';
import { sweetAlertService } from '../utils/sweetAlertConfig';
import IPSearch from '../components/geo/IPSearch';
import GeoDisplay from '../components/geo/GeoDisplay';
import HistoryList from '../components/geo/HistoryList';
import Button from '../components/ui/Button';
import Card from '../components/ui/Card';

const HomePage = () => {
  const { user, logout } = useAuth();
  const { geoData, loading, error, fetchCurrentLocation, searchByIP, clearData, setGeoDataDirect } = useGeoLocation();
  const [activeHistoryItemId, setActiveHistoryItemId] = useState(null);

  // Load current user's location on mount
  useEffect(() => {
    fetchCurrentLocation();
  }, [fetchCurrentLocation]);

  const handleSearch = async (ipAddress) => {
    await searchByIP(ipAddress);
  };

  const handleClear = () => {
    clearData();
    fetchCurrentLocation();
  };

  const handleHistoryItemClick = (item) => {
    if (item.geo_data) {
      setActiveHistoryItemId(item.id); // Set active item
      setGeoDataDirect(item.geo_data);
      toast.success(`Showing location for ${item.search_term}`);
      
      // Scroll to Location Information section
      setTimeout(() => {
        const locationSection = document.getElementById('location-information');
        if (locationSection) {
          locationSection.scrollIntoView({ 
            behavior: 'smooth',
            block: 'start'
          });
        }
      }, 100);
    }
  };

  const handleLogout = async () => {
    try {
      // Show confirmation dialog with red button for destructive action
      const result = await sweetAlertService.confirmAction(
        'Logout Confirmation',
        'Are you sure you want to logout?',
        'Logout',
        true // isDestructive = true for red button
      );

      if (result.isConfirmed) {
        // Show loading dialog
        sweetAlertService.showLoading('Logging out...');

        await logout();
        
        // Close loading and show success
        sweetAlertService.close();
        await sweetAlertService.showSuccess(
          'Logged Out!',
          'You have been successfully logged out.'
        );
        
        toast.success('Logged out successfully');
      }
    } catch {
      sweetAlertService.close();
      await sweetAlertService.showError(
        'Logout Error!',
        'Failed to logout. Please try again.'
      );
      toast.error('Failed to logout');
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      {/* Header */}
      <header className="bg-white shadow-sm border-b border-gray-200">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex justify-between items-center py-4">
            <div className="flex items-center">
              <div className="flex-shrink-0">
                <div className="h-8 w-8 bg-gray-900 rounded-lg flex items-center justify-center">
                  <svg className="h-5 w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </div>
              </div>
              <div className="ml-3">
                <h1 className="text-xl font-semibold text-gray-900">GeoLocator</h1>
                <p className="text-sm text-gray-500">IP Geolocation Tool</p>
              </div>
            </div>
            
            <div className="flex items-center space-x-4">
              <div className="flex items-center space-x-2">
                <div className="h-8 w-8 bg-gray-200 rounded-lg flex items-center justify-center">
                  <svg className="h-4 w-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                  </svg>
                </div>
                <div className="hidden sm:block">
                  <p className="text-sm font-medium text-gray-900">{user?.name || 'User'}</p>
                  <p className="text-xs text-gray-500">{user?.email}</p>
                </div>
              </div>
              
              <div className="bg-gray-50 rounded-lg">
                <Button
                  variant="danger"
                  size="sm"
                  onClick={handleLogout}
                >
                  <svg className=" h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                  </svg>
                </Button>
              </div>
            </div>
          </div>
        </div>
      </header>

      {/* Main Content */}
      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
          {/* Left Column - Search and Results */}
          <div className="lg:col-span-2 space-y-8">
            {/* IP Search Component */}
            <IPSearch
              onSearch={handleSearch}
              onClear={handleClear}
              loading={loading}
            />

            {/* Geo Display Component */}
            <GeoDisplay
              geoData={geoData}
              loading={loading}
              error={error}
            />
          </div>

          {/* Right Column - History */}
          <div className="lg:col-span-1">
            <div className="sticky top-8">
              <HistoryList
                onHistoryItemClick={handleHistoryItemClick}
                refreshTrigger={geoData} // Trigger refresh when geoData changes
                activeItemId={activeHistoryItemId}
              />
            </div>
          </div>
        </div>

        {/* Quick Stats */}
        {geoData && (
          <Card className="mt-8">
            <h3 className="text-lg font-semibold text-gray-900 mb-4">Quick Stats</h3>
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
              <div className="text-center p-3 bg-slate-50 rounded-lg border border-slate-200">
                <div className="text-lg font-bold text-slate-900 break-all max-w-full font-mono text-xs">{geoData.ip}</div>
                <div className="text-sm text-slate-600 mt-1">IP Address</div>
              </div>
              <div className="text-center p-3 bg-slate-50 rounded-lg border border-slate-200">
                <div className="text-2xl font-bold text-slate-900">{geoData.city || 'Unknown'}</div>
                <div className="text-sm text-slate-600">City</div>
              </div>
              <div className="text-center p-3 bg-slate-50 rounded-lg border border-slate-200">
                <div className="text-2xl font-bold text-slate-900">{geoData.country || 'Unknown'}</div>
                <div className="text-sm text-slate-600">Country</div>
              </div>
              <div className="text-center p-3 bg-slate-50 rounded-lg border border-slate-200">
                <div className="text-2xl font-bold text-slate-900">{geoData.org?.split(' ')[0] || 'Unknown'}</div>
                <div className="text-sm text-slate-600">ISP</div>
              </div>
            </div>
          </Card>
        )}
      </main>

      {/* Footer */}
      <footer className="bg-white border-t border-gray-200 mt-16">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
          <div className="flex flex-col sm:flex-row justify-between items-center">
            <p className="text-sm text-gray-500">
              ¬© 2025 GeoLocator. Powered by ipinfo.io API.
            </p>
            <div className="flex items-center space-x-4 mt-4 sm:mt-0">
              <span className="text-sm text-gray-500">
                Data provided by
              </span>
              <a
                href="https://ipinfo.io"
                target="_blank"
                rel="noopener noreferrer"
                className="text-sm text-primary hover:text-primary/80 font-medium"
              >
                ipinfo.io
              </a>
            </div>
          </div>
        </div>
      </footer>
    </div>
  );
};

export default HomePage;
</file>

<file path="src/pages/LoginPage.jsx">
import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext.jsx';
import LoadingSpinner from '../components/ui/LoadingSpinner';
import toast from 'react-hot-toast';

const LoginPage = () => {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [loading, setLoading] = useState(false);
  const [errors, setErrors] = useState({});
  
  const { login } = useAuth();

  const validateForm = () => {
    const newErrors = {};
    
    if (!email) {
      newErrors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(email)) {
      newErrors.email = 'Email is invalid';
    }
    
    if (!password) {
      newErrors.password = 'Password is required';
    } else if (password.length < 6) {
      newErrors.password = 'Password must be at least 6 characters';
    }
    
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    if (!validateForm()) {
      return;
    }

    setLoading(true);
    
    try {
      const result = await login(email, password);
      
      if (result.success) {
        toast.success('Login successful!');
      } else {
        toast.error(result.message || 'Login failed');
        if (result.message?.includes('credentials')) {
          setErrors({ general: 'Invalid email or password' });
        }
      }
    } catch {
      toast.error('An unexpected error occurred');
      setErrors({ general: 'An unexpected error occurred' });
    } finally {
      setLoading(false);
    }
  };

  const handleInputChange = (field, value) => {
    setErrors(prev => ({ ...prev, [field]: '', general: '' }));
    if (field === 'email') {
      setEmail(value);
    } else {
      setPassword(value);
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
      <div className="max-w-md w-full space-y-8">
        <div>
          <div className="mx-auto h-12 w-12 flex items-center justify-center rounded-lg bg-blue-100">
            <svg className="h-8 w-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <h2 className="mt-6 text-center text-3xl font-extrabold text-gray-900">
            GeoLocator Login
          </h2>
          <p className="mt-2 text-center text-sm text-gray-600">
            Sign in to access IP geolocation tools
          </p>
        </div>
        
        <form className="mt-8 space-y-6" onSubmit={handleSubmit}>
          <div className="rounded-md shadow-sm -space-y-px">
            <div>
              <label htmlFor="email" className="sr-only">
                Email address
              </label>
              <input
                id="email"
                name="email"
                type="email"
                autoComplete="email"
                required
                className={`appearance-none rounded-none relative block w-full px-3 py-2 border ${errors.email ? 'border-red-300' : 'border-gray-300'} placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}
                placeholder="Email address"
                value={email}
                onChange={(e) => handleInputChange('email', e.target.value)}
              />
              {errors.email && (
                <p className="mt-1 text-sm text-red-600">{errors.email}</p>
              )}
            </div>
            <div>
              <label htmlFor="password" className="sr-only">
                Password
              </label>
              <input
                id="password"
                name="password"
                type="password"
                autoComplete="current-password"
                required
                className={`appearance-none rounded-none relative block w-full px-3 py-2 border ${errors.password ? 'border-red-300' : 'border-gray-300'} placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}
                placeholder="Password"
                value={password}
                onChange={(e) => handleInputChange('password', e.target.value)}
              />
              {errors.password && (
                <p className="mt-1 text-sm text-red-600">{errors.password}</p>
              )}
            </div>
          </div>

          {errors.general && (
            <div className="rounded-md bg-red-50 p-4">
              <div className="flex">
                <div className="flex-shrink-0">
                  <svg className="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor">
                    <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clipRule="evenodd" />
                  </svg>
                </div>
                <div className="ml-3">
                  <p className="text-sm text-red-800">{errors.general}</p>
                </div>
              </div>
            </div>
          )}

          <div>
            <button
              type="submit"
              disabled={loading}
              className="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ring disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"
            >
              {loading ? (
                <>
                  <LoadingSpinner size="sm" className="-ml-1 mr-3" />
                  Signing in...
                </>
              ) : (
                'Sign in'
              )}
            </button>
          </div>

          <div className="text-center">
            <p className="text-xs text-gray-500">
              Test credentials: admin@jlabs.com / password123
            </p>
          </div>
        </form>
      </div>
    </div>
  );
};

export default LoginPage;
</file>

<file path="tailwind.config.js">
import tailwindcssAnimate from "tailwindcss-animate"

/** @type {import('tailwindcss').Config} */
export default {
    darkMode: ["class"],
    content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
  	extend: {
  		borderRadius: {
  			lg: 'var(--radius)',
  			md: 'calc(var(--radius) - 2px)',
  			sm: 'calc(var(--radius) - 4px)'
  		},
  		colors: {
  			background: 'hsl(var(--background))',
  			foreground: 'hsl(var(--foreground))',
  			card: {
  				DEFAULT: 'hsl(var(--card))',
  				foreground: 'hsl(var(--card-foreground))'
  			},
  			popover: {
  				DEFAULT: 'hsl(var(--popover))',
  				foreground: 'hsl(var(--popover-foreground))'
  			},
  			primary: {
  				DEFAULT: 'hsl(var(--primary))',
  				foreground: 'hsl(var(--primary-foreground))'
  			},
  			secondary: {
  				DEFAULT: 'hsl(var(--secondary))',
  				foreground: 'hsl(var(--secondary-foreground))'
  			},
  			muted: {
  				DEFAULT: 'hsl(var(--muted))',
  				foreground: 'hsl(var(--muted-foreground))'
  			},
  			accent: {
  				DEFAULT: 'hsl(var(--accent))',
  				foreground: 'hsl(var(--accent-foreground))'
  			},
  			destructive: {
  				DEFAULT: 'hsl(var(--destructive))',
  				foreground: 'hsl(var(--destructive-foreground))'
  			},
  			border: 'hsl(var(--border))',
  			input: 'hsl(var(--input))',
  			ring: 'hsl(var(--ring))',
  			chart: {
  				'1': 'hsl(var(--chart-1))',
  				'2': 'hsl(var(--chart-2))',
  				'3': 'hsl(var(--chart-3))',
  				'4': 'hsl(var(--chart-4))',
  				'5': 'hsl(var(--chart-5))'
  			}
  		}
  	}
  },
  plugins: [tailwindcssAnimate],
}
</file>

<file path="vite.config.js">
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import path from 'path'
import { fileURLToPath } from 'url'

const __filename = fileURLToPath(import.meta.url)
const __dirname = path.dirname(__filename)

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
})
</file>

<file path="package.json">
{
  "name": "frontend-geo",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@radix-ui/react-slot": "^1.2.4",
    "axios": "^1.13.2",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "lucide-react": "^0.556.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "react-hot-toast": "^2.6.0",
    "react-router-dom": "^7.10.1",
    "sweetalert2": "^11.26.4",
    "tailwind-merge": "^3.4.0",
    "tailwindcss": "^3.4.1",
    "tailwindcss-animate": "^1.0.7"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@types/react": "^19.2.5",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react": "^5.1.1",
    "autoprefixer": "^10.4.22",
    "eslint": "^9.39.1",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.24",
    "globals": "^16.5.0",
    "postcss": "^8.5.6",
    "vite": "^7.2.4"
  }
}
</file>

<file path="src/App.jsx">
import React from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';
import { useAuth } from './context/AuthContext.jsx';
import PrivateRoute from './components/auth/PrivateRoute';
import LoginPage from './pages/LoginPage';
import HomePage from './pages/HomePage';
import LoadingSpinner from './components/ui/LoadingSpinner';

function App() {
  const { isAuthenticated, loading } = useAuth();

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-gray-50">
        <div className="text-center">
          <LoadingSpinner size="lg" className="mx-auto" />

        </div>
      </div>
    );
  }

  return (
    <Router>
      <div className="min-h-screen bg-gray-50">
        <Routes>
          <Route 
            path="/login" 
            element={isAuthenticated ? <Navigate to="/" replace /> : <LoginPage />} 
          />
          <Route 
            path="/" 
            element={
              <PrivateRoute>
                <HomePage />
              </PrivateRoute>
            } 
          />
          <Route path="*" element={<Navigate to="/" replace />} />
        </Routes>
      </div>
    </Router>
  );
}

export default App;
</file>

<file path="src/index.css">
@tailwind base;
@tailwind components;
@tailwind utilities;

/* SweetAlert2 Custom Styles - Only popup styling, buttons handled in sweetAlertConfig */
.swal2-popup {
  border-radius: 0.5rem !important;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
  max-width: 400px !important;
  width: auto !important;
  padding: 1rem !important;
}

.swal2-title {
  font-size: 1.25rem !important;
  margin-bottom: 0.5rem !important;
}

.swal2-html-container {
  font-size: 0.875rem !important;
  margin: 0.5rem 0 !important;
}

.swal2-actions {
  gap: 0.75rem !important;
  margin-top: 1rem !important;
}



@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
  }
  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}
</file>

</files>
